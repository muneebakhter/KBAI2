# =============================================================================
# KBAI2 Configuration
# Copy this file to .env and modify the values as needed
# =============================================================================

# =============================================================================
# OpenAI API Configuration
# =============================================================================

# OpenAI API key for AI features
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI model (default: gpt-4o-mini for cost efficiency)
# Other options: gpt-4, gpt-4-turbo, gpt-3.5-turbo
OPENAI_MODEL=gpt-4o-mini

# =============================================================================
# Server Configuration
# =============================================================================

# Server host (default: 0.0.0.0 - listens on all interfaces)
HOST=0.0.0.0

# Server port (default: 8000)
PORT=8000

# Enable auto-reload for development (default: false)
# Set to 'true' for development, 'false' for production
RELOAD=false

# =============================================================================
# Database Configuration
# =============================================================================

# SQLite database file path for API traces (default: ./kbai_api.db)
TRACE_DB_PATH=./kbai_api.db

# =============================================================================
# Storage Configuration - CLOUD SCALABILITY OPTIONS
# =============================================================================

# Storage backend type: file, azure_fileshare, azure_blob, cosmosdb
# - file: Local file system (default, single-instance only)
# - azure_fileshare: Azure File Share (network file share for multi-instance)
# - azure_blob: Azure Blob Storage (object storage for large files)
# - cosmosdb: Azure CosmosDB (NoSQL database for structured data)
STORAGE_TYPE=file

# Azure Storage Account connection string (for azure_fileshare and azure_blob)
# Format: DefaultEndpointsProtocol=https;AccountName=mystorageaccount;AccountKey=mykey;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONNECTION_STRING=

# Azure File Share name (default: kbai-data)
AZURE_FILESHARE_NAME=kbai-data

# Azure Blob Container name (default: kbai-data)
AZURE_BLOB_CONTAINER_NAME=kbai-data

# Azure CosmosDB configuration
# CosmosDB endpoint URL
COSMOS_ENDPOINT=
# CosmosDB primary key
COSMOS_KEY=
# CosmosDB database name (default: kbai-db)
COSMOS_DATABASE_NAME=kbai-db

# =============================================================================
# Authentication & Security
# =============================================================================

# JWT signing key - CHANGE THIS IN PRODUCTION!
# Generate a secure key: openssl rand -hex 32
AUTH_SIGNING_KEY=dev-signing-key-change-me

# JWT algorithm (default: HS256)
AUTH_JWT_ALG=HS256

# Default token TTL in seconds (default: 3600 = 1 hour)
AUTH_DEFAULT_TTL_SECONDS=3600

# API token for legacy compatibility (optional)
KBAI_API_TOKEN=your-optional-api-token-here

# =============================================================================
# Request & Security Limits
# =============================================================================

# Maximum request body size in bytes (default: 65536 = 64KB)
MAX_REQUEST_BYTES=65536

# CORS allowed origins (comma-separated, use * for all)
# Examples:
#   ALLOWED_ORIGINS=*
#   ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com
ALLOWED_ORIGINS=*

# =============================================================================
# Monitoring & Observability
# =============================================================================

# Enable detailed request tracing (default: true)
ENABLE_TRACING=true

# Enable Prometheus metrics (default: true)
ENABLE_METRICS=true

# =============================================================================
# Application Features
# =============================================================================

# Default admin username (for simple auth)
DEFAULT_ADMIN_USERNAME=admin

# Default admin password - CHANGE THIS IN PRODUCTION!
DEFAULT_ADMIN_PASSWORD=admin

# =============================================================================
# Data Storage
# =============================================================================

# Base directory for user data (default: ~/.kbai)
# DATA_DIR=~/.kbai

# Project mapping file (default: ~/proj_mapping.txt)
# PROJ_MAP_FILE=~/proj_mapping.txt

# =============================================================================
# Development & Debugging
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable debug mode (default: false)
DEBUG=false

# =============================================================================
# Production Deployment
# =============================================================================

# Number of worker processes for production (uvicorn/gunicorn)
# WORKERS=4

# SSL certificate file path (for HTTPS)
# SSL_CERT_FILE=/path/to/cert.pem

# SSL private key file path (for HTTPS)
# SSL_KEY_FILE=/path/to/key.pem

# =============================================================================
# Backup & Maintenance
# =============================================================================

# Database backup directory
# BACKUP_DIR=./backups

# Automatic backup interval in hours (0 = disabled)
# BACKUP_INTERVAL_HOURS=24

# Maximum number of backup files to keep
# MAX_BACKUP_FILES=7